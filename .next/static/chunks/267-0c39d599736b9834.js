"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[267],{5768:function(e,t,r){r.d(t,{F:function(){return I},Z:function(){return Z}});var s=r(5893),l=r(7294),a=r(5666),n=r.n(a),o=r(9198),i=r.n(o),d=r(6896),u=r(5806),c=function(e){var t=e.options,r=e.value,a=e.handleChange,n=e.title,o=e.placeholder,i=void 0===o?"":o,c=e.error,m=void 0!==c&&c,p=e.hasTranslate,h=void 0!==p&&p,x=(0,d.Z)().formatMessage,f=(0,l.useState)(!1),g=f[0],b=f[1],j=(0,l.useRef)(null);return(0,u.O)(j,(function(){g&&b(!1)})),(0,s.jsxs)("div",{className:"max-w-full",children:[(0,s.jsx)("label",{htmlFor:"select",className:"block py-2 text-purple-900 text-sm",children:n}),(0,s.jsxs)("div",{className:"relative",ref:j,children:[(0,s.jsxs)("div",{className:"h-14 bg-white flex border border-purple-50 rounded items-center rounded-xl border-2 ".concat(m&&"border-red-200"),children:[(0,s.jsx)("input",{value:h?x({id:"Form.".concat(r)}):r,placeholder:i,name:"select",id:"select",className:"px-4 appearance-none outline-none text-purple-700 w-full text-sm font-medium placeholder-purple-700 placeholder-opacity-70",onChange:function(){return console.log("change")},autoComplete:"off"}),(0,s.jsx)("label",{htmlFor:"show_more",className:"cursor-pointer outline-none focus:outline-none border-l border-gray-200 transition-all text-gray-300 hover:text-gray-600",children:(0,s.jsx)("svg",{onClick:function(){return b(!g)},className:"w-4 h-4 mx-2 fill-current ".concat(g?"transform rotate-180":""),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,s.jsx)("polyline",{points:"18 15 12 9 6 15"})})})]}),g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"checkbox",name:"show_more",id:"show_more",className:"hidden peer"}),(0,s.jsx)("div",{className:"absolute rounded shadow bg-white overflow-hidden hidden peer-checked:flex flex-col w-full mt-1 border border-gray-200 z-50 text-sm",children:t.map((function(e,t){return(0,s.jsx)("div",{className:"cursor-pointer group",onClick:function(){b(!1),a(e)},children:(0,s.jsx)("a",{className:"block p-2 border-transparent border-l-4 group-hover:border-purple-600 group-hover:bg-gray-100",children:h?x({id:"Form.".concat(e)}):e})},e)}))})]})]})]})},m=r(2298),p=r(5570),h=r(8966),x=r(6486),f=r(8383),g=(r(8698),function(e){var t=e.selected,r=e.handleChangeDate,a=e.error,n=(0,d.Z)().formatMessage,o=(0,x.range)(2005,(0,p.default)(new Date)+1,1),u=["January","February","March","April","May","June","July","August","September","October","November","December"],c=(0,l.forwardRef)((function(e,t){var r=e.value,l=e.onClick,a=e.error;return(0,s.jsxs)("div",{className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none flex justify-between ".concat(a&&"border-red-200"),onClick:l,ref:t,children:[r||(0,s.jsx)("p",{className:"text-purple-700 opacity-70",children:n({id:"Form.PleaseChooseADate",defaultMessage:"Please choose a date"})}),(0,s.jsx)("div",{children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-4 h-4 ml-3 text-purple-700 duration-300 ease-in-out sm:w-4 sm:h-4 sm:ml-6 group-hover:text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})}));return(0,s.jsx)(i(),{renderCustomHeader:function(e){var t=e.date,r=e.changeYear,l=e.changeMonth,a=e.decreaseMonth,n=e.increaseMonth,i=e.prevMonthButtonDisabled,d=e.nextMonthButtonDisabled;return(0,s.jsxs)("div",{style:{margin:10,display:"flex",justifyContent:"center"},children:[(0,s.jsx)("button",{type:"button",onClick:a,disabled:i,children:"<"}),(0,s.jsx)("select",{value:(0,p.default)(t),onChange:function(e){var t=e.target.value;return r(t)},children:o.map((function(e){return(0,s.jsx)("option",{value:e,children:e},e)}))}),(0,s.jsx)("select",{value:u[(0,h.default)(t)],onChange:function(e){var t=e.target.value;return l(u.indexOf(t))},children:u.map((function(e){return(0,s.jsx)("option",{value:e,children:e},e)}))}),(0,s.jsx)("button",{type:"button",onClick:n,disabled:d,children:">"})]})},dateFormat:f.eq,selected:t,onChange:function(e){return r(e)},customInput:(0,s.jsx)(c,{error:a}),maxDate:new Date})});function b(e,t,r,s,l,a,n){try{var o=e[a](n),i=o.value}catch(d){return void r(d)}o.done?t(i):Promise.resolve(i).then(s,l)}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){j(e,t,r[t])}))}return e}var y=function(e){var t,r=e.classes,a=(0,l.useState)({}),o=a[0],u=a[1],p=(0,d.Z)().formatMessage,h=(0,l.useState)(f.ET.twoWay),x=h[0],y=h[1],N=(0,l.useState)(!1),w=N[0],F=N[1],M=(0,l.useState)(),S=M[0],C=M[1],k=(0,l.useState)(),P=k[0],O=k[1],D=(0,l.useState)(),E=D[0],T=D[1],A=(0,l.useState)({}),B=A[0],G=A[1],q=(0,l.useState)(!0),R=q[0],I=q[1],H=function(e){u(v({},o,j({},e.target.id,e.target.value)))},Z=(t=n().mark((function e(t){var r,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),P){e.next=4;break}return G(v({},B,{dateOfBirth:!0})),e.abrupt("return");case 4:if(null===o||void 0===o?void 0:o.currentGrade){e.next=7;break}return G(v({},B,{currentGrade:!0})),e.abrupt("return");case 7:if(E){e.next=10;break}return G(v({},B,{startDate:!0})),e.abrupt("return");case 10:if(R){e.next=12;break}return e.abrupt("return");case 12:return r=v({},o,{busOption:x,submittedAt:(0,m.default)(Date.now(),f.YP),dateOfBirth:(0,m.default)(P,f.eq),startDate:(0,m.default)(E,f.eq)}),F(!0),e.prev=14,e.next=17,fetch("/api/bus",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 17:return s=e.sent,e.next=20,s.json();case 20:e.sent,C("success"),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(14),console.log("error",e.t0);case 27:F(!1);case 28:case"end":return e.stop()}}),e,null,[[14,24]])})),function(){var e=this,r=arguments;return new Promise((function(s,l){var a=t.apply(e,r);function n(e){b(a,s,l,n,o,"next",e)}function o(e){b(a,s,l,n,o,"throw",e)}n(void 0)}))}),L=(0,l.forwardRef)((function(e,t){var r=e.value,l=e.onClick,a=e.error;return(0,s.jsxs)("div",{className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none flex justify-between ".concat(a&&"border-red-200"),onClick:l,ref:t,children:[r||(0,s.jsx)("p",{className:"text-purple-700 opacity-70",children:p({id:"Form.PleaseChooseADate",defaultMessage:"Please choose a date"})}),(0,s.jsx)("div",{children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-4 h-4 ml-3 text-purple-700 duration-300 ease-in-out sm:w-4 sm:h-4 sm:ml-6 group-hover:text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})}));return(0,s.jsxs)("div",{style:{minHeight:"800px"},children:[(0,s.jsxs)("div",{className:"flex items-center flex-col",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-purple-900",children:p({id:"Parent.BusServiceRegistration",defaultMessage:"Bus Service Registration"})}),(0,s.jsx)("p",{className:"text-purple-800 mt-0.5 text-opacity-90"})]}),"success"===S?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-between mt-12",children:[(0,s.jsx)("svg",{viewBox:"0 0 24 24",className:"text-green-600 w-16 h-16 mx-auto my-6",children:(0,s.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"md:text-2xl text-base text-gray-900 font-semibold text-center",children:p({id:"Form.SubmitDone",defaultMessage:"Submit done!"})}),(0,s.jsx)("p",{className:"text-gray-600 my-2",children:p({id:"Form.ThankYou",defaultMessage:"Thank you. Our staff will call you soon"})}),(0,s.jsxs)("p",{children:[" ",p({id:"Form.HaveAGreatDay",defaultMessage:"Have a great day!"})," "]})]})]}):(0,s.jsxs)("form",{className:"mt-8",onSubmit:Z,children:[(0,s.jsxs)("div",{className:"md:grid md:grid-cols-3 md:gap-2",children:[(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsx)("h3",{className:"text-purple-900 font-medium mt-2",children:p({id:"Form.StudentInformation",defaultMessage:"Student Information"})})}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"fullNameStudent",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[p({id:"Form.FullName",defaultMessage:"Full Name"}),"*"]}),(0,s.jsx)("input",{type:"text",placeholder:p({id:"Form.FullName",defaultMessage:"Full Name"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none",required:!0,id:"fullNameStudent",name:"fullNameStudent",onChange:H})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"dateOfBirth",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[p({id:"Form.DateOfBirth",defaultMessage:"Date of birth"})," ","*"]}),(0,s.jsx)(g,{selected:P,handleChangeDate:function(e){G(v({},B,{dateOfBirth:!1})),O(e)},error:null===B||void 0===B?void 0:B.dateOfBirth})]})]}),(0,s.jsx)("div",{className:"grid sm:grid-cols-2 gap-4",children:(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(c,{title:"".concat(p({id:"Form.CurrentGrade",defaultMessage:"Current Grade"})," *"),placeholder:p({id:"Form.PleaseSelectAGrade",defaultMessage:"Please select a grade"}),options:r,value:null===o||void 0===o?void 0:o.currentGrade,handleChange:function(e){return function(e){u(v({},o,{currentGrade:e})),G(v({},B,{currentGrade:!1}))}(e)},error:null===B||void 0===B?void 0:B.currentGrade})})})]})]}),(0,s.jsx)("hr",{className:"border-0 bg-purple-50 text-purple-50 h-0.5 mt-6"}),(0,s.jsxs)("div",{className:"md:grid md:grid-cols-3 md:gap-2",children:[(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsxs)("h3",{className:"text-purple-900 font-medium mt-6",children:[p({id:"Form.StudentParent",defaultMessage:"Student's Parent"})," ",(0,s.jsx)("br",{})," ","/ ".concat(p({id:"Form.GuardianInformation",defaultMessage:"Guardian Information"}))]})}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"fullNameParent",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[p({id:"Form.FullName",defaultMessage:"Full Name"})," ","*"]}),(0,s.jsx)("input",{id:"fullNameParent",name:"fullNameParent",onChange:H,required:!0,type:"text",placeholder:p({id:"Form.FullName",defaultMessage:"Full Name"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none"})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"relationship",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[p({id:"Form.RelationshipToTheStudent",defaultMessage:"Relationship to the student"})," ","*"]}),(0,s.jsx)("input",{id:"relationship",type:"text",name:"relationship",placeholder:p({id:"Form.RelationshipToTheStudent",defaultMessage:"Relationship to the student"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none",required:!0,onChange:H})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"phone",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[p({id:"Form.Phone",defaultMessage:"Phone"})," ","*"]}),(0,s.jsx)("input",{id:"phoneNumber",name:"phoneNumber",onChange:H,required:!0,type:"text",placeholder:p({id:"Form.Phone",defaultMessage:"Phone"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none"})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"email",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[p({id:"Form.Email",defaultMessage:"Email"})," ","*"]}),(0,s.jsx)("input",{id:"email",type:"email",name:"email",placeholder:p({id:"Form.Email",defaultMessage:"Email"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none",required:!0,onChange:H})]})]})]})]}),(0,s.jsx)("hr",{className:"border-0 bg-purple-50 text-purple-50 h-0.5 mt-6"}),(0,s.jsxs)("div",{className:"md:grid md:grid-cols-3 md:gap-2",children:[(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsxs)("h3",{className:"text-purple-900 font-medium mt-6",children:[p({id:"Form.BusServiceDetail",defaultMessage:"Bus Service Detail"})," "]})}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("div",{className:"grid sm:grid-cols-2 gap-4",children:(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(c,{options:[f.ET.twoWay,f.ET.pickup,f.ET.drop],title:p({id:"Form.SelectAnOption",defaultMessage:"Select an option"}),placeholder:p({id:"Form.ChooseAnOption",defaultMessage:"Choose an option"}),value:x,handleChange:function(e){return y(e)}})})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[x!==f.ET.drop&&(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"pickupAddress",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[p({id:"Form.PickUpAddress",defaultMessage:"Pick up address"})," ","*"]}),(0,s.jsx)("input",{id:"pickupAddress",name:"pickupAddress",onChange:H,required:!0,type:"text",placeholder:p({id:"Form.PickUpAddress",defaultMessage:"Pick up address"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none"})]}),x!=f.ET.pickup&&(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"dropOffAdress",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[p({id:"Form.DropOffAddress",defaultMessage:"Drop-off address"})," ","*"]}),(0,s.jsx)("input",{id:"dropoffAdress",type:"text",name:"dropoffAdress",placeholder:p({id:"Form.DropOffAddress",defaultMessage:"Drop-off address"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none",required:!0,onChange:H})]})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"dateTime",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[p({id:"Form.StartDate",defaultMessage:"Start Date"})," ","*"]}),(0,s.jsx)(i(),{selected:E,onChange:function(e){G(v({},B,{startDate:!1})),T(e)},dateFormat:f.eq,customInput:(0,s.jsx)(L,{error:null===B||void 0===B?void 0:B.startDate}),minDate:new Date})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("input",{type:"checkbox",value:"",id:"flexCheckChecked",checked:R,onChange:function(){return I(!R)}}),(0,s.jsxs)("label",{className:"form-check-label text-gray-800 ml-2 text-sm",htmlFor:"flexCheckChecked",children:[p({id:"Form.Checkbox",defaultMessage:"We hear by agree to pay tuition and other related school fees by the due date and ensure that our child(ren) and family follow all Blue Sky Acadmy policies and rules."})," "]})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end mt-6",children:(0,s.jsx)("button",{type:"submit",className:"text-lg font-semibold text-purple-900 bg-yellow-500 leading-normal inline-flex items-center justify-center px-8 py-3 duration-300 ease-in-out rounded-full outline-none hover:bg-yellow-600",children:w?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"loading-circle animate-spin ease-linear rounded-full border-4 border-t-4 border-gray-200 h-6 w-6 mr-2"}),(0,s.jsxs)("span",{children:[p({id:"Form.Processing",defaultMessage:"Processing"}),"..."]})]}):p({id:"Form.SendMessage",defaultMessage:"Send message"})})})]})]})},N=r(7349),w=r(7042),F=r(4543),M=r(9013),S=r(3882);function C(e){return(0,S.Z)(1,arguments),3===(0,M.default)(e).getDay()}var k=function(){for(var e=new Date,t=(0,N.default)(new Date,60),r=[],s=e;s<=t;)C(s)||r.push(s),s=(0,N.default)(s,1);return r},P=r(5344);function O(e,t,r,s,l,a,n){try{var o=e[a](n),i=o.value}catch(d){return void r(d)}o.done?t(i):Promise.resolve(i).then(s,l)}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){D(e,t,r[t])}))}return e}var T=function(){var e,t=(0,d.Z)().formatMessage,r=(0,P.e)().isMobile,a=(0,l.useState)({}),o=a[0],u=a[1],p=(0,l.useState)(f.ZD.no),h=p[0],x=p[1],b=(0,l.useState)(f.y7.female),j=b[0],v=b[1],y=(0,l.useState)(!1),M=y[0],S=y[1],C=(0,l.useState)(),T=C[0],A=C[1],B=(0,l.useState)(),G=B[0],q=B[1],R=(0,l.useState)(),I=R[0],H=R[1],Z=(0,l.useState)({}),L=Z[0],W=Z[1],_=function(e){u(E({},o,D({},e.target.id,e.target.value)))},J=(e=n().mark((function e(t){var r,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),G){e.next=4;break}return W(E({},L,{dateOfBirth:!0})),e.abrupt("return");case 4:if(I){e.next=7;break}return W(E({},L,{dateOfExam:!0})),e.abrupt("return");case 7:return r=E({},o,{reTest:h,gender:j,submittedAt:(0,m.default)(Date.now(),"HH:mm:ss dd-MM-yyyy"),dateOfBirth:(0,m.default)(G,"dd-MM-yyyy"),dateOfExam:(0,m.default)(I,"dd-MM-yyyy")}),S(!0),e.prev=9,e.next=12,fetch("/api/exam",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 12:return s=e.sent,e.next=15,s.json();case 15:e.sent,A("success"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),console.log("error",e.t0);case 22:S(!1);case 23:case"end":return e.stop()}}),e,null,[[9,19]])})),function(){var t=this,r=arguments;return new Promise((function(s,l){var a=e.apply(t,r);function n(e){O(a,s,l,n,o,"next",e)}function o(e){O(a,s,l,n,o,"throw",e)}n(void 0)}))}),Y=(0,l.forwardRef)((function(e,l){var a=e.value,n=e.onClick,o=e.error;return(0,s.jsxs)("div",{className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none flex justify-between ".concat(o&&"border-red-200"),onClick:n,ref:l,children:[a||(0,s.jsx)("p",{className:"text-purple-700 opacity-70",children:t(r?{id:"Form.PleaseChooseDateAndTime",defaultMessage:"Please choose date and time"}:{id:"Form.PleaseChooseFrom2PMTo4PMOnEveryWednesday",defaultMessage:"Please choose from 2PM to 4PM on every Wednesday"})}),(0,s.jsx)("div",{children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-4 h-4 ml-3 text-purple-700 duration-300 ease-in-out sm:w-4 sm:h-4 sm:ml-6 group-hover:text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})}));return(0,s.jsxs)("div",{style:{minHeight:"800px"},children:[(0,s.jsxs)("div",{className:"flex items-center flex-col",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-purple-900",children:t({id:"Parent.EntranceExamRegistration",defaultMessage:"Entrance Exam Registration"})}),(0,s.jsx)("p",{className:"text-purple-800 mt-0.5 text-opacity-90",children:t({id:"Form.PleaseChooseFrom2PMTo4PMOnEveryWednesday",defaultMessage:"Please choose from 2PM to 4PM on every Wednesday"})})]}),"success"===T?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-between mt-12",children:[(0,s.jsx)("svg",{viewBox:"0 0 24 24",className:"text-green-600 w-16 h-16 mx-auto my-6",children:(0,s.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"md:text-2xl text-base text-gray-900 font-semibold text-center",children:t({id:"Form.SubmitDone",defaultMessage:"Submit done!"})}),(0,s.jsx)("p",{className:"text-gray-600 my-2",children:t({id:"Form.ThankYou",defaultMessage:"Thank you. Our staff will call you soon"})}),(0,s.jsxs)("p",{children:[" ",t({id:"Form.HaveAGreatDay",defaultMessage:"Have a great day!"})," "]})]})]}):(0,s.jsxs)("form",{className:"mt-8",onSubmit:J,children:[(0,s.jsxs)("div",{className:"md:grid md:grid-cols-3 md:gap-2",children:[(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsx)("h3",{className:"text-purple-900 font-medium mt-2",children:t({id:"Form.StudentInformation",defaultMessage:"Student Information"})})}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"fullNameStudent",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[t({id:"Form.FullName",defaultMessage:"Full Name"}),"*"]}),(0,s.jsx)("input",{type:"text",placeholder:t({id:"Form.FullName",defaultMessage:"Full Name"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none",required:!0,id:"fullNameStudent",name:"fullNameStudent",onChange:_})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"currentGrade",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[t({id:"Form.DateOfBirth",defaultMessage:"Date of birth"})," ","*"]}),(0,s.jsx)(g,{selected:G,handleChangeDate:function(e){W(E({},L,{dateOfBirth:!1})),q(e)},error:null===L||void 0===L?void 0:L.dateOfBirth})]})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(c,{options:[f.y7.male,f.y7.female,f.y7.other],title:t({id:"Form.Gender",defaultMessage:"Gender"}),placeholder:t({id:"Form.SelectAnOption",defaultMessage:"Select an option"}),value:j,handleChange:function(e){return v(e)},hasTranslate:!0})}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(c,{options:[f.ZD.no,f.ZD.yes],title:t({id:"Form.IsItAReTest",defaultMessage:"Is it a re-test?"}),placeholder:t({id:"Form.SelectAnOption",defaultMessage:"Select an option"}),value:h,handleChange:function(e){return x(e)},hasTranslate:!0})}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("label",{htmlFor:"dateOfBirth",className:"ml-0.5 text-purple-900 font-medium text-sm",children:t({id:"Form.CurrentSchool",defaultMessage:"CurrentSchool"})}),(0,s.jsx)("input",{type:"text",placeholder:t({id:"Form.NameAddress",defaultMessage:"Name, Address"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none",required:!0,id:"currentSchool",name:"currentSchool",onChange:_})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"currentGrade",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[t({id:"Form.CurrentGrade",defaultMessage:"Current Grade"})," ","*"]}),(0,s.jsx)("input",{type:"text",placeholder:t({id:"Form.CurrentGrade",defaultMessage:"Current Grade"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none",required:!0,id:"currentGrade",name:"currentGrade",onChange:_})]})]})]})]}),(0,s.jsx)("hr",{className:"border-0 bg-purple-50 text-purple-50 h-0.5 mt-6"}),(0,s.jsxs)("div",{className:"md:grid md:grid-cols-3 md:gap-2",children:[(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsxs)("h3",{className:"text-purple-900 font-medium mt-6",children:[t({id:"Form.StudentParent",defaultMessage:"Student's Parent"})," ",(0,s.jsx)("br",{})," ","/ ".concat(t({id:"Form.GuardianInformation",defaultMessage:"Guardian Information"}))]})}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"fullNameParent",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[t({id:"Form.FullName",defaultMessage:"Full Name"})," ","*"]}),(0,s.jsx)("input",{id:"fullNameParent",name:"fullNameParent",onChange:_,required:!0,type:"text",placeholder:t({id:"Form.FullName",defaultMessage:"Full Name"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none"})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"relationship",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[t({id:"Form.RelationshipToTheStudent",defaultMessage:"Relationship to the student"})," ","*"]}),(0,s.jsx)("input",{id:"relationship",type:"text",name:"relationship",placeholder:t({id:"Form.RelationshipToTheStudent",defaultMessage:"Relationship to the student"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none",required:!0,onChange:_})]})]}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"occupation",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[t({id:"Form.Occupation",defaultMessage:"Occupation"})," ","*"]}),(0,s.jsx)("input",{id:"occupation",name:"occupation",onChange:_,required:!0,type:"text",placeholder:t({id:"Form.Occupation",defaultMessage:"Occupation"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none"})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"company",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[t({id:"Form.CompanyAddress",defaultMessage:"CompanyAddress"}),"*"]}),(0,s.jsx)("input",{id:"company",type:"text",name:"company",placeholder:t({id:"Form.CompanyAddress",defaultMessage:"Company Address"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none",required:!0,onChange:_})]})]}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"phone",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[t({id:"Form.Phone",defaultMessage:"Phone"})," ","*"]}),(0,s.jsx)("input",{id:"phoneNumber",name:"phoneNumber",onChange:_,required:!0,type:"text",placeholder:t({id:"Form.Phone",defaultMessage:"Phone"}),className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none"})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"email",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[t({id:"Form.Email",defaultMessage:"Email"})," ","*"]}),(0,s.jsx)("input",{id:"email",type:"email",name:"email",placeholder:"Email",className:"w-full p-4 mt-2 text-sm font-medium text-purple-700 placeholder-purple-700 duration-300 ease-in-out border-2 outline-none h-14 placeholder-opacity-70 rounded-2xl border-purple-50 focus:border-purple-200 focus:ring-purple-200 focus:outline-none",required:!0,onChange:_})]})]})]})]}),(0,s.jsx)("hr",{className:"border-0 bg-purple-50 text-purple-50 h-0.5 mt-6"}),(0,s.jsxs)("div",{className:"md:grid md:grid-cols-3 md:gap-2",children:[(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsx)("h3",{className:"text-purple-900 font-medium mt-6",children:t({id:"Form.EntranceExamDate",defaultMessage:"Entrance Exam Date"})})}),(0,s.jsx)("div",{className:"md:col-span-2",children:(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{htmlFor:"dateTime",className:"ml-0.5 text-purple-900 font-medium text-sm",children:[t({id:"Form.StartDate",defaultMessage:"Start Date"})," ","*"]}),(0,s.jsx)(i(),{selected:I,onChange:function(e){W(E({},L,{dateOfExam:!1})),H(e)},showTimeSelect:!0,timeFormat:"HH:mm",timeInputLabel:"Time:",dateFormat:"h:mm aa MMMM d, yyyy",customInput:(0,s.jsx)(Y,{error:null===L||void 0===L?void 0:L.dateOfExam}),minDate:new Date,excludeDates:k(),maxDate:(0,N.default)(new Date,60),minTime:(0,w.default)((0,F.default)(new Date,0),14),maxTime:(0,w.default)((0,F.default)(new Date,0),16)})]})})]}),(0,s.jsx)("div",{className:"flex justify-end mt-6",children:(0,s.jsx)("button",{type:"submit",className:"text-lg font-semibold text-purple-900 bg-yellow-500 leading-normal inline-flex items-center justify-center px-8 py-3 duration-300 ease-in-out rounded-full outline-none hover:bg-yellow-600",children:M?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"loading-circle animate-spin ease-linear rounded-full border-4 border-t-4 border-gray-200 h-6 w-6 mr-2"}),(0,s.jsxs)("span",{children:[" ",t({id:"Form.Processing",defaultMessage:"Processing"}),"..."]})]}):t({id:"Form.SendMessage",defaultMessage:"Send message"})})})]})]})},A=r(5900);function B(e,t,r,s,l,a,n){try{var o=e[a](n),i=o.value}catch(d){return void r(d)}o.done?t(i):Promise.resolve(i).then(s,l)}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){G(e,t,r[t])}))}return e}var R=function(){var e,t=(0,l.useState)({}),r=t[0],a=t[1],o=(0,l.useState)(!1),i=o[0],d=o[1],u=(0,l.useState)(),c=u[0],p=u[1],h=(0,l.useState)(),x=h[0],f=h[1],g=(0,l.useState)(!1),b=g[0],j=g[1],v=(e=n().mark((function e(t){var s,l,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x){e.next=4;break}return j(!0),e.abrupt("return");case 4:return s=q({},r,{type:"School",submittedAt:(0,m.default)(Date.now(),"HH:mm:ss dd-MM-yyyy"),date:(0,m.default)(x,"HH:mm:ss dd-MM-yyyy")}),d(!0),e.prev=6,e.next=9,fetch("/api/sheet",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});case 9:return l=e.sent,e.next=12,l.json();case 12:a=e.sent,console.log("result",a),p("success"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log("error",e.t0);case 20:d(!1);case 21:case"end":return e.stop()}}),e,null,[[6,17]])})),function(){var t=this,r=arguments;return new Promise((function(s,l){var a=e.apply(t,r);function n(e){B(a,s,l,n,o,"next",e)}function o(e){B(a,s,l,n,o,"throw",e)}n(void 0)}))});return(0,s.jsx)("div",{children:(0,s.jsx)(A.t,{handleChangeForm:function(e){a(q({},r,G({},e.target.id,e.target.value)))},handleSubmit:v,isLoading:i,status:c,selectedDate:x,handleChangeDate:function(e){f(e),j(!1)},error:b})})},I={school:"school",exam:"exam",bus:"bus"},H=function(e){var t=e.type,r=e.classes;return(0,s.jsx)("div",{className:"px-4 mt-12 -mb-48 -translate-y-56 lg:mt-20 sm:mt-16 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"w-full ".concat(t===I.school?"sm:w-1/2 ":"sm:w-2/3"," mx-auto"),children:(0,s.jsxs)("div",{className:"relative z-10 w-full px-4 py-10 mx-auto bg-white shadow-xl rounded-3xl lg:mr-0 lg:ml-auto sm:p-16 lg:p-12 xl:p-14",children:[t===I.school&&(0,s.jsx)(R,{}),t===I.bus&&(0,s.jsx)(y,{classes:r}),t===I.exam&&(0,s.jsx)(T,{})]})})})},Z=function(e){var t=e.id,r=e.tab,a=e.classes,n=(0,d.Z)().formatMessage,o=(0,l.useState)(null!==r&&void 0!==r?r:I.school),i=o[0],u=o[1];return(0,l.useEffect)((function(){r&&u(r)}),[r]),(0,s.jsxs)("section",{id:t,children:[(0,s.jsx)("div",{className:"px-4 pt-20 bg-purple-25 sm:pt-28 lg:pt-36 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-screen-xl mx-auto",children:[(0,s.jsx)("h3",{className:"max-w-2xl mx-auto mb-10 text-center text-purple-900 sm:mb-12 md:mb-20 text-4xl leading-tight tracking-tight sm:text-5xl xl:text-6xl sm:leading-tighter font-bold",children:n({id:"Parent.SchoolServiceRegistration",defaultMessage:"School Service Registration"})}),(0,s.jsxs)("ul",{className:"flex flex-wrap items-center justify-center -my-2 space-x-2 text-sm font-medium sm:space-x-4 lg:space-x-6",children:[(0,s.jsx)("li",{className:"my-2",children:(0,s.jsx)("button",{className:"inline-flex items-center justify-center px-4 py-1.5 sm:text-lg duration-300 ease-in-out ".concat(i===I.school?"bg-purple-600 text-white":"bg-white text-purple-900"," rounded-full hover:bg-purple-500 hover:text-white"),onClick:function(){return u(I.school)},children:n({id:"Parent.SchoolVisit",defaultMessage:"School Visit"})})}),(0,s.jsx)("li",{className:"my-2",children:(0,s.jsx)("button",{className:"inline-flex items-center justify-center px-4 py-1.5 sm:text-lg duration-300 ease-in-out ".concat(i===I.bus?"bg-purple-600 text-white":"bg-white text-purple-900"," rounded-full hover:bg-purple-500 hover:text-white"),onClick:function(){return u(I.bus)},children:n({id:"Parent.BusService",defaultMessage:"Bus Service"})})}),(0,s.jsx)("li",{className:"my-2",children:(0,s.jsx)("button",{className:"inline-flex items-center justify-center px-4 py-1.5 sm:text-lg duration-300 ease-in-out ".concat(i===I.exam?"bg-purple-600 text-white":"bg-white text-purple-900"," rounded-full hover:bg-purple-500 hover:text-white"),onClick:function(){return u(I.exam)},children:n({id:"Parent.EntranceExam",defaultMessage:"Entrance Exam"})})})]})]})}),(0,s.jsx)("div",{className:"w-full h-56 bg-purple-25"}),(0,s.jsx)(H,{type:i,classes:a})]})}},6331:function(e,t,r){r.d(t,{i:function(){return a}});var s=r(7294),l=r(1163);function a(){var e=(0,l.useRouter)();(0,s.useEffect)((function(){var t=function(e){var t=window.location.hash.replace("#",""),r=document.getElementById(t);r&&r.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})};return e.events.on("hashChangeStart",t),function(){e.events.off("hashChangeStart",t)}}),[e.events])}}}]);